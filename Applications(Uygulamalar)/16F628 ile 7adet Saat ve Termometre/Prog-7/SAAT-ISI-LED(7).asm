
; PicBasic Pro Compiler 2.46, (c) 1998, 2005 microEngineering Labs, Inc. All Rights Reserved.  
PM_USED			EQU	1

	INCLUDE	"16F628.INC"

RAM_START       		EQU	00020h
RAM_END         		EQU	0014Fh
RAM_BANKS       		EQU	00003h
BANK0_START     		EQU	00020h
BANK0_END       		EQU	0007Fh
BANK1_START     		EQU	000A0h
BANK1_END       		EQU	000EFh
BANK2_START     		EQU	00120h
BANK2_END       		EQU	0014Fh
EEPROM_START    		EQU	02100h
EEPROM_END      		EQU	0217Fh

R0              		EQU	RAM_START + 000h
R1              		EQU	RAM_START + 002h
R2              		EQU	RAM_START + 004h
R3              		EQU	RAM_START + 006h
R4              		EQU	RAM_START + 008h
R5              		EQU	RAM_START + 00Ah
R6              		EQU	RAM_START + 00Ch
R7              		EQU	RAM_START + 00Eh
R8              		EQU	RAM_START + 010h
T1              		EQU	RAM_START + 012h
T2              		EQU	RAM_START + 014h
FLAGS           		EQU	RAM_START + 016h
GOP             		EQU	RAM_START + 017h
RM1             		EQU	RAM_START + 018h
RM2             		EQU	RAM_START + 019h
RR1             		EQU	RAM_START + 01Ah
RR2             		EQU	RAM_START + 01Bh
_Float           		EQU	RAM_START + 01Ch
_HAM             		EQU	RAM_START + 01Eh
_ISI             		EQU	RAM_START + 020h
_X               		EQU	RAM_START + 022h
_AY              		EQU	RAM_START + 024h
_BIRLER          		EQU	RAM_START + 025h
_DAK             		EQU	RAM_START + 026h
_ESN             		EQU	RAM_START + 027h
_GOR             		EQU	RAM_START + 028h
_GUN             		EQU	RAM_START + 029h
_MEM             		EQU	RAM_START + 02Ah
_ONLAR           		EQU	RAM_START + 02Bh
PB01            		EQU	RAM_START + 02Ch
_SAAT            		EQU	RAM_START + 02Dh
_SAYAC           		EQU	RAM_START + 02Eh
_SAYI            		EQU	RAM_START + 02Fh
_SIGN            		EQU	RAM_START + 030h
_SN              		EQU	RAM_START + 031h
_TEMP            		EQU	RAM_START + 032h
_Y               		EQU	RAM_START + 033h
_YIL             		EQU	RAM_START + 034h
_PORTL           		EQU	 PORTB
_PORTH           		EQU	 PORTA
_TRISL           		EQU	 TRISB
_TRISH           		EQU	 TRISA
_HAM_LOWBYTE     		EQU	_HAM
_HAM_HIGHBYTE    		EQU	_HAM + 001h
#define _Comm_Pin        	_PORTA_4
#define _Busy            	 PB01, 000h
#define _POZ             	 PB01, 001h
#define _SIGN_BITI       	_HAM_BIT11
#define _DTA             	_PORTB_0
#define _CLK             	_PORTB_1
#define _RTC_DTA         	_PORTA_0
#define _RTC_CLK         	_PORTA_1
#define _RTC_RST         	_PORTA_2
#define _SEC             	_PORTA_5
#define _ASAGI           	_PORTA_6
#define _YUKARI          	_PORTA_7
#define _PORTA_4         	 PORTA, 004h
#define _HAM_BIT11       	_HAM + 001h, 003h
#define _PORTB_0         	 PORTB, 000h
#define _PORTB_1         	 PORTB, 001h
#define _PORTA_0         	 PORTA, 000h
#define _PORTA_1         	 PORTA, 001h
#define _PORTA_2         	 PORTA, 002h
#define _PORTA_5         	 PORTA, 005h
#define _PORTA_6         	 PORTA, 006h
#define _PORTA_7         	 PORTA, 007h
#define _PORTA_3         	 PORTA, 003h
#define _PORTB_2         	 PORTB, 002h
#define _PORTB_3         	 PORTB, 003h
#define _PORTB_4         	 PORTB, 004h
#define _PORTB_5         	 PORTB, 005h
#define _PORTB_6         	 PORTB, 006h
#define _PORTB_7         	 PORTB, 007h
#define _INTCON_2        	 INTCON, 002h

; Constants.
_NEGAT_ISI       		EQU	00001h
_Deg             		EQU	000DFh
	INCLUDE	"SAAT-I~1.MAC"
	INCLUDE	"PBPPIC14.LIB"

	MOVE?CB	000h, PORTA
	MOVE?CB	000h, PORTB
	MOVE?CB	000h, TRISB
	MOVE?CB	0E0h, TRISA

	ASM?
 DEVICE pic16F628                      

	ENDASM?


	ASM?
 DEVICE pic16F628, WDT_ON              

	ENDASM?


	ASM?
 DEVICE pic16F628, PWRT_ON             

	ENDASM?


	ASM?
 DEVICE pic16F628, PROTECT_OFF         

	ENDASM?


	ASM?
 DEVICE pic16F628, MCLR_off            

	ENDASM?


	ASM?
 DEVICE pic16F628, INTRC_OSC_NOCLKOUT  

	ENDASM?

	ONINT?LL	_KESME, L00001
	ICALL?L	L00001
	MOVE?CB	085h, OPTION_REG
	ICALL?L	L00001
	MOVE?CB	0A0h, INTCON
	ICALL?L	L00001
	MOVE?CB	000h, TMR0
	ICALL?L	L00001
	MOVE?CB	007h, CMCON
	ICALL?L	L00001
	CLEAR?	
	ICALL?L	L00001
	LOW?T	_RTC_RST
	ICALL?L	L00001
	LOW?T	_RTC_CLK
	ICALL?L	L00001
	GOSUB?L	_GECIKME
	ICALL?L	L00001
	HIGH?T	_PORTA_3
	ICALL?L	L00001
	GOSUB?L	_ZAMAN_OKU
	ICALL?L	L00001
	MOVE?BB	_SN, _ESN

	LABEL?L	_BASLA	
	ICALL?L	L00001
	CMPNE?BCL	_Y, 00Fh, L00003
	MOVE?CB	000h, _Y
	LABEL?L	L00003	
	ICALL?L	L00001
	CMPGT?BCB	_Y, 005h, T1
	CMPLT?BCB	_Y, 00Bh, T2
	LAND?BBW	T1, T2, T2
	CMPF?WL	T2, L00005
	GOSUB?L	_EKRAN1
	LABEL?L	L00005	
	ICALL?L	L00001
	CMPLE?BCL	_Y, 00Ah, L00007
	GOSUB?L	_EKRAN2
	LABEL?L	L00007	
	ICALL?L	L00001
	CMPGE?BCL	_Y, 006h, L00009
	GOSUB?L	_EKRAN0
	LABEL?L	L00009	

	LABEL?L	_ATLA	
	ICALL?L	L00001
	CMPEQ?TCL	_SEC, 000h, _AYAR
	ICALL?L	L00001
	GOSUB?L	_SENSOROKU
	ICALL?L	L00001
	GOTO?L	_BASLA

	LABEL?L	_EKRAN0	
	ICALL?L	L00001
	CMPNE?BCL	_SAYAC, 01Ch, L00011
	LOW?T	_PORTA_3
	LABEL?L	L00011	
	ICALL?L	L00001
	DIG?BCW	_SAAT, 001h, _X
	ICALL?L	L00001
	GOSUB?L	_AL
	ICALL?L	L00001
	SHIFTDATA?T	_DTA
	SHIFTCLOCK?T	_CLK
	SHIFTMODE?C	001h
	SHIFTOUT?BC	_SAYI, 008h
	ICALL?L	L00001
	HIGH?T	_PORTB_2
	ICALL?L	L00001
	PAUSEUS?C	002h
	ICALL?L	L00001
	LOW?T	_PORTB_2
	ICALL?L	L00001
	DIG?BCW	_SAAT, 000h, _X
	ICALL?L	L00001
	GOSUB?L	_AL
	ICALL?L	L00001
	SHIFTDATA?T	_DTA
	SHIFTCLOCK?T	_CLK
	SHIFTMODE?C	001h
	SHIFTOUT?BC	_SAYI, 008h
	ICALL?L	L00001
	HIGH?T	_PORTB_3
	ICALL?L	L00001
	PAUSEUS?C	002h
	ICALL?L	L00001
	LOW?T	_PORTB_3
	ICALL?L	L00001
	DIG?BCW	_DAK, 001h, _X
	ICALL?L	L00001
	GOSUB?L	_AL
	ICALL?L	L00001
	SHIFTDATA?T	_DTA
	SHIFTCLOCK?T	_CLK
	SHIFTMODE?C	001h
	SHIFTOUT?BC	_SAYI, 008h
	ICALL?L	L00001
	HIGH?T	_PORTB_4
	ICALL?L	L00001
	PAUSEUS?C	002h
	ICALL?L	L00001
	LOW?T	_PORTB_4
	ICALL?L	L00001
	DIG?BCW	_DAK, 000h, _X
	ICALL?L	L00001
	GOSUB?L	_AL
	ICALL?L	L00001
	SHIFTDATA?T	_DTA
	SHIFTCLOCK?T	_CLK
	SHIFTMODE?C	001h
	SHIFTOUT?BC	_SAYI, 008h
	ICALL?L	L00001
	HIGH?T	_PORTB_5
	ICALL?L	L00001
	PAUSEUS?C	002h
	ICALL?L	L00001
	LOW?T	_PORTB_5
	ICALL?L	L00001
	DIG?BCW	_SN, 001h, _X
	ICALL?L	L00001
	GOSUB?L	_AL
	ICALL?L	L00001
	SHIFTDATA?T	_DTA
	SHIFTCLOCK?T	_CLK
	SHIFTMODE?C	001h
	SHIFTOUT?BC	_SAYI, 008h
	ICALL?L	L00001
	HIGH?T	_PORTB_6
	ICALL?L	L00001
	PAUSEUS?C	002h
	ICALL?L	L00001
	LOW?T	_PORTB_6
	ICALL?L	L00001
	DIG?BCW	_SN, 000h, _X
	ICALL?L	L00001
	GOSUB?L	_AL
	ICALL?L	L00001
	SHIFTDATA?T	_DTA
	SHIFTCLOCK?T	_CLK
	SHIFTMODE?C	001h
	SHIFTOUT?BC	_SAYI, 008h
	ICALL?L	L00001
	HIGH?T	_PORTB_7
	ICALL?L	L00001
	PAUSEUS?C	002h
	ICALL?L	L00001
	LOW?T	_PORTB_7
	ICALL?L	L00001
	RETURN?	

	LABEL?L	_AL	
	ICALL?L	L00001
	LOOKUP?WCLB	_X, 00Ch, L00002, _SAYI
	LURET?C	03Fh
	LURET?C	006h
	LURET?C	05Bh
	LURET?C	04Fh
	LURET?C	066h
	LURET?C	06Dh
	LURET?C	07Dh
	LURET?C	007h
	LURET?C	07Fh
	LURET?C	06Fh
	LURET?C	063h
	LURET?C	039h

	LABEL?L	L00002	
	ICALL?L	L00001
	RETURN?	

	LABEL?L	_EKRAN1	
	ICALL?L	L00001
	LOW?T	_PORTA_3
	ICALL?L	L00001
	MOVE?CB	000h, _SAYI
	ICALL?L	L00001
	SHIFTDATA?T	_DTA
	SHIFTCLOCK?T	_CLK
	SHIFTMODE?C	001h
	SHIFTOUT?BC	_SAYI, 008h
	ICALL?L	L00001
	HIGH?T	_PORTB_2
	ICALL?L	L00001
	PAUSEUS?C	002h
	ICALL?L	L00001
	LOW?T	_PORTB_2
	ICALL?L	L00001
	CMPNE?TCL	_SIGN_BITI, _NEGAT_ISI, L00013
	MOVE?CB	040h, _SAYI
	LABEL?L	L00013	
	ICALL?L	L00001
	SHIFTDATA?T	_DTA
	SHIFTCLOCK?T	_CLK
	SHIFTMODE?C	001h
	SHIFTOUT?BC	_SAYI, 008h
	ICALL?L	L00001
	HIGH?T	_PORTB_3
	ICALL?L	L00001
	PAUSEUS?C	002h
	ICALL?L	L00001
	LOW?T	_PORTB_3
	ICALL?L	L00001
	DIG?WCW	_ISI, 001h, _X
	ICALL?L	L00001
	GOSUB?L	_AL
	ICALL?L	L00001
	SHIFTDATA?T	_DTA
	SHIFTCLOCK?T	_CLK
	SHIFTMODE?C	001h
	SHIFTOUT?BC	_SAYI, 008h
	ICALL?L	L00001
	HIGH?T	_PORTB_4
	ICALL?L	L00001
	PAUSEUS?C	002h
	ICALL?L	L00001
	LOW?T	_PORTB_4
	ICALL?L	L00001
	DIG?WCW	_ISI, 000h, _X
	ICALL?L	L00001
	GOSUB?L	_AL
	ICALL?L	L00001
	SHIFTDATA?T	_DTA
	SHIFTCLOCK?T	_CLK
	SHIFTMODE?C	001h
	SHIFTOUT?BC	_SAYI, 008h
	ICALL?L	L00001
	HIGH?T	_PORTB_5
	ICALL?L	L00001
	PAUSEUS?C	002h
	ICALL?L	L00001
	LOW?T	_PORTB_5
	ICALL?L	L00001
	MOVE?CW	00Ah, _X
	ICALL?L	L00001
	GOSUB?L	_AL
	ICALL?L	L00001
	SHIFTDATA?T	_DTA
	SHIFTCLOCK?T	_CLK
	SHIFTMODE?C	001h
	SHIFTOUT?BC	_SAYI, 008h
	ICALL?L	L00001
	HIGH?T	_PORTB_6
	ICALL?L	L00001
	PAUSEUS?C	002h
	ICALL?L	L00001
	LOW?T	_PORTB_6
	ICALL?L	L00001
	MOVE?CW	00Bh, _X
	ICALL?L	L00001
	GOSUB?L	_AL
	ICALL?L	L00001
	SHIFTDATA?T	_DTA
	SHIFTCLOCK?T	_CLK
	SHIFTMODE?C	001h
	SHIFTOUT?BC	_SAYI, 008h
	ICALL?L	L00001
	HIGH?T	_PORTB_7
	ICALL?L	L00001
	PAUSEUS?C	002h
	ICALL?L	L00001
	LOW?T	_PORTB_7
	ICALL?L	L00001
	RETURN?	

	LABEL?L	_EKRAN2	
	ICALL?L	L00001
	CMPNE?TCL	_POZ, 000h, L00015
	HIGH?T	_PORTA_3
	LABEL?L	L00015	
	ICALL?L	L00001
	DIG?BCW	_GUN, 001h, _X
	ICALL?L	L00001
	GOSUB?L	_AL
	ICALL?L	L00001
	SHIFTDATA?T	_DTA
	SHIFTCLOCK?T	_CLK
	SHIFTMODE?C	001h
	SHIFTOUT?BC	_SAYI, 008h
	ICALL?L	L00001
	HIGH?T	_PORTB_2
	ICALL?L	L00001
	PAUSEUS?C	002h
	ICALL?L	L00001
	LOW?T	_PORTB_2
	ICALL?L	L00001
	DIG?BCW	_GUN, 000h, _X
	ICALL?L	L00001
	GOSUB?L	_AL
	ICALL?L	L00001
	SHIFTDATA?T	_DTA
	SHIFTCLOCK?T	_CLK
	SHIFTMODE?C	001h
	SHIFTOUT?BC	_SAYI, 008h
	ICALL?L	L00001
	HIGH?T	_PORTB_3
	ICALL?L	L00001
	PAUSEUS?C	002h
	ICALL?L	L00001
	LOW?T	_PORTB_3
	ICALL?L	L00001
	DIG?BCW	_AY, 001h, _X
	ICALL?L	L00001
	GOSUB?L	_AL
	ICALL?L	L00001
	SHIFTDATA?T	_DTA
	SHIFTCLOCK?T	_CLK
	SHIFTMODE?C	001h
	SHIFTOUT?BC	_SAYI, 008h
	ICALL?L	L00001
	HIGH?T	_PORTB_4
	ICALL?L	L00001
	PAUSEUS?C	002h
	ICALL?L	L00001
	LOW?T	_PORTB_4
	ICALL?L	L00001
	DIG?BCW	_AY, 000h, _X
	ICALL?L	L00001
	GOSUB?L	_AL
	ICALL?L	L00001
	SHIFTDATA?T	_DTA
	SHIFTCLOCK?T	_CLK
	SHIFTMODE?C	001h
	SHIFTOUT?BC	_SAYI, 008h
	ICALL?L	L00001
	HIGH?T	_PORTB_5
	ICALL?L	L00001
	PAUSEUS?C	002h
	ICALL?L	L00001
	LOW?T	_PORTB_5
	ICALL?L	L00001
	DIG?BCW	_YIL, 001h, _X
	ICALL?L	L00001
	GOSUB?L	_AL
	ICALL?L	L00001
	SHIFTDATA?T	_DTA
	SHIFTCLOCK?T	_CLK
	SHIFTMODE?C	001h
	SHIFTOUT?BC	_SAYI, 008h
	ICALL?L	L00001
	HIGH?T	_PORTB_6
	ICALL?L	L00001
	PAUSEUS?C	002h
	ICALL?L	L00001
	LOW?T	_PORTB_6
	ICALL?L	L00001
	DIG?BCW	_YIL, 000h, _X
	ICALL?L	L00001
	GOSUB?L	_AL
	ICALL?L	L00001
	SHIFTDATA?T	_DTA
	SHIFTCLOCK?T	_CLK
	SHIFTMODE?C	001h
	SHIFTOUT?BC	_SAYI, 008h
	ICALL?L	L00001
	HIGH?T	_PORTB_7
	ICALL?L	L00001
	PAUSEUS?C	002h
	ICALL?L	L00001
	LOW?T	_PORTB_7
	ICALL?L	L00001
	RETURN?	

	LABEL?L	_AYAR	
	ICALL?L	L00001
	LOW?T	_PORTA_3
	ICALL?L	L00001
	MOVE?CB	000h, _SN
	ICALL?L	L00001
	MOVE?CT	001h, _POZ
	ICALL?L	L00001
	GOSUB?L	_FLASH
	ICALL?L	L00001
	CMPGT?BCL	_Y, 00Ah, _TARIHAYAR
	ICALL?L	L00001
	LABEL?L	L00017	
	CMPNE?TCL	_SEC, 000h, L00018
	ICALL?L	L00001
	GOTO?L	L00017
	LABEL?L	L00018	

	LABEL?L	_HOUR	
	ICALL?L	L00001
	GOSUB?L	_EKRAN0
	ICALL?L	L00001
	LOW?T	_PORTA_3
	ICALL?L	L00001
	CMPEQ?TCL	_SEC, 000h, _MINBIR
	ICALL?L	L00001
	CMPNE?TCL	_YUKARI, 000h, L00019
	ICALL?L	L00001
	ADD?BCB	_SAAT, 001h, _SAAT
	ICALL?L	L00001
	CMPNE?BCL	_SAAT, 018h, L00021
	MOVE?CB	000h, _SAAT
	LABEL?L	L00021	
	ICALL?L	L00001
	LABEL?L	L00019	
	ICALL?L	L00001
	CMPNE?TCL	_ASAGI, 000h, L00023
	ICALL?L	L00001
	SUB?BCB	_SAAT, 001h, _SAAT
	ICALL?L	L00001
	CMPNE?BCL	_SAAT, 0FFh, L00025
	MOVE?CB	017h, _SAAT
	LABEL?L	L00025	
	ICALL?L	L00001
	LABEL?L	L00023	
	ICALL?L	L00001
	GOSUB?L	_GECIKME
	ICALL?L	L00001
	GOTO?L	_HOUR

	LABEL?L	_MINBIR	
	ICALL?L	L00001
	GOSUB?L	_FLASH
	ICALL?L	L00001
	LABEL?L	L00027	
	CMPNE?TCL	_SEC, 000h, L00028
	ICALL?L	L00001
	GOTO?L	L00027
	LABEL?L	L00028	

	LABEL?L	_MINUTE	
	ICALL?L	L00001
	GOSUB?L	_EKRAN0
	ICALL?L	L00001
	LOW?T	_PORTA_3
	ICALL?L	L00001
	CMPEQ?TCL	_SEC, 000h, _ara
	ICALL?L	L00001
	CMPNE?TCL	_YUKARI, 000h, L00029
	ICALL?L	L00001
	ADD?BCB	_DAK, 001h, _DAK
	ICALL?L	L00001
	CMPNE?BCL	_DAK, 03Ch, L00031
	MOVE?CB	000h, _DAK
	LABEL?L	L00031	
	ICALL?L	L00001
	LABEL?L	L00029	
	ICALL?L	L00001
	CMPNE?TCL	_ASAGI, 000h, L00033
	ICALL?L	L00001
	SUB?BCB	_DAK, 001h, _DAK
	ICALL?L	L00001
	CMPNE?BCL	_DAK, 0FFh, L00035
	MOVE?CB	03Bh, _DAK
	LABEL?L	L00035	
	ICALL?L	L00001
	LABEL?L	L00033	
	ICALL?L	L00001
	GOSUB?L	_GECIKME
	ICALL?L	L00001
	GOTO?L	_MINUTE

	LABEL?L	_SECBIR	
	ICALL?L	L00001
	LABEL?L	L00037	
	CMPNE?TCL	_SEC, 000h, L00038
	ICALL?L	L00001
	GOTO?L	L00037
	LABEL?L	L00038	

	LABEL?L	_GECIKME	
	ICALL?L	L00001
	MOVE?CW	000h, _X
	LABEL?L	L00039	
	CMPGT?WCL	_X, 00708h, L00040
	ICALL?L	L00001
	PAUSEUS?C	032h
	ICALL?L	L00001
	NEXT?WCL	_X, 001h, L00039
	LABEL?L	L00040	
	ICALL?L	L00001
	RETURN?	

	LABEL?L	_DELAY	
	ICALL?L	L00001
	MOVE?CW	000h, _X
	LABEL?L	L00041	
	CMPGT?WCL	_X, 0076Ch, L00042
	ICALL?L	L00001
	PAUSEUS?C	00Ah
	ICALL?L	L00001
	NEXT?WCL	_X, 001h, L00041
	LABEL?L	L00042	
	ICALL?L	L00001
	RETURN?	

	LABEL?L	_ara	
	ICALL?L	L00001
	GOSUB?L	_FLASH
	ICALL?L	L00001
	HIGH?T	_PORTA_3
	ICALL?L	L00001
	LABEL?L	L00043	
	CMPNE?TCL	_SEC, 000h, L00044
	ICALL?L	L00001
	GOTO?L	L00043
	LABEL?L	L00044	
	ICALL?L	L00001
	MOVE?BB	_SN, _MEM
	ICALL?L	L00001
	GOSUB?L	_TERSCEVIR
	ICALL?L	L00001
	MOVE?BB	_SAYI, _SN
	ICALL?L	L00001
	MOVE?BB	_DAK, _MEM
	ICALL?L	L00001
	GOSUB?L	_TERSCEVIR
	ICALL?L	L00001
	MOVE?BB	_SAYI, _DAK
	ICALL?L	L00001
	MOVE?BB	_SAAT, _MEM
	ICALL?L	L00001
	GOSUB?L	_TERSCEVIR
	ICALL?L	L00001
	MOVE?BB	_SAYI, _SAAT
	ICALL?L	L00001
	MOVE?BB	_GUN, _MEM
	ICALL?L	L00001
	GOSUB?L	_TERSCEVIR
	ICALL?L	L00001
	MOVE?BB	_SAYI, _GUN
	ICALL?L	L00001
	MOVE?BB	_AY, _MEM
	ICALL?L	L00001
	GOSUB?L	_TERSCEVIR
	ICALL?L	L00001
	MOVE?BB	_SAYI, _AY
	ICALL?L	L00001
	MOVE?BB	_YIL, _MEM
	ICALL?L	L00001
	GOSUB?L	_TERSCEVIR
	ICALL?L	L00001
	MOVE?BB	_SAYI, _YIL
	ICALL?L	L00001
	GOSUB?L	_ZAMAN_YAZ
	ICALL?L	L00001
	GOSUB?L	_ZAMAN_OKU
	ICALL?L	L00001
	MOVE?CB	000h, _Y
	ICALL?L	L00001
	MOVE?CT	000h, _POZ
	ICALL?L	L00001
	GOTO?L	_BASLA

	LABEL?L	_FLASH	
	ICALL?L	L00001
	TOGGLE?T	_PORTA_3
	ICALL?L	L00001
	GOSUB?L	_DELAY
	ICALL?L	L00001
	TOGGLE?T	_PORTA_3
	ICALL?L	L00001
	GOSUB?L	_DELAY
	ICALL?L	L00001
	TOGGLE?T	_PORTA_3
	ICALL?L	L00001
	GOSUB?L	_DELAY
	ICALL?L	L00001
	TOGGLE?T	_PORTA_3
	ICALL?L	L00001
	GOSUB?L	_DELAY
	ICALL?L	L00001
	RETURN?	

	LABEL?L	_TARIHAYAR	
	ICALL?L	L00001
	LABEL?L	L00045	
	CMPNE?TCL	_SEC, 000h, L00046
	ICALL?L	L00001
	GOTO?L	L00045
	LABEL?L	L00046	

	LABEL?L	_GUNAL	
	ICALL?L	L00001
	GOSUB?L	_EKRAN2
	ICALL?L	L00001
	CMPEQ?TCL	_SEC, 000h, _AYBIR
	ICALL?L	L00001
	CMPNE?TCL	_YUKARI, 000h, L00047
	ICALL?L	L00001
	ADD?BCB	_GUN, 001h, _GUN
	ICALL?L	L00001
	CMPNE?BCL	_GUN, 020h, L00049
	MOVE?CB	001h, _GUN
	LABEL?L	L00049	
	ICALL?L	L00001
	LABEL?L	L00047	
	ICALL?L	L00001
	CMPNE?TCL	_ASAGI, 000h, L00051
	ICALL?L	L00001
	SUB?BCB	_GUN, 001h, _GUN
	ICALL?L	L00001
	CMPNE?BCL	_GUN, 0FFh, L00053
	MOVE?CB	01Fh, _SAAT
	LABEL?L	L00053	
	ICALL?L	L00001
	LABEL?L	L00051	
	ICALL?L	L00001
	GOSUB?L	_GECIKME
	ICALL?L	L00001
	GOTO?L	_GUNAL

	LABEL?L	_AYBIR	
	ICALL?L	L00001
	GOSUB?L	_FLASH
	ICALL?L	L00001
	LABEL?L	L00055	
	CMPNE?TCL	_SEC, 000h, L00056
	ICALL?L	L00001
	GOTO?L	L00055
	LABEL?L	L00056	

	LABEL?L	_AYAL	
	ICALL?L	L00001
	GOSUB?L	_EKRAN2
	ICALL?L	L00001
	CMPEQ?TCL	_SEC, 000h, _YILBIR
	ICALL?L	L00001
	CMPNE?TCL	_YUKARI, 000h, L00057
	ICALL?L	L00001
	ADD?BCB	_AY, 001h, _AY
	ICALL?L	L00001
	CMPNE?BCL	_AY, 00Dh, L00059
	MOVE?CB	001h, _AY
	LABEL?L	L00059	
	ICALL?L	L00001
	LABEL?L	L00057	
	ICALL?L	L00001
	CMPNE?TCL	_ASAGI, 000h, L00061
	ICALL?L	L00001
	SUB?BCB	_AY, 001h, _AY
	ICALL?L	L00001
	CMPNE?BCL	_AY, 0FFh, L00063
	MOVE?CB	00Ch, _AY
	LABEL?L	L00063	
	ICALL?L	L00001
	LABEL?L	L00061	
	ICALL?L	L00001
	GOSUB?L	_GECIKME
	ICALL?L	L00001
	GOTO?L	_AYAL

	LABEL?L	_YILBIR	
	ICALL?L	L00001
	GOSUB?L	_FLASH
	ICALL?L	L00001
	LABEL?L	L00065	
	CMPNE?TCL	_SEC, 000h, L00066
	ICALL?L	L00001
	GOTO?L	L00065
	LABEL?L	L00066	

	LABEL?L	_YILAL	
	ICALL?L	L00001
	GOSUB?L	_EKRAN2
	ICALL?L	L00001
	CMPEQ?TCL	_SEC, 000h, _ara
	ICALL?L	L00001
	CMPNE?TCL	_YUKARI, 000h, L00067
	ICALL?L	L00001
	ADD?BCB	_YIL, 001h, _YIL
	ICALL?L	L00001
	CMPNE?BCL	_YIL, 064h, L00069
	MOVE?CB	000h, _YIL
	LABEL?L	L00069	
	ICALL?L	L00001
	LABEL?L	L00067	
	ICALL?L	L00001
	CMPNE?TCL	_ASAGI, 000h, L00071
	ICALL?L	L00001
	SUB?BCB	_YIL, 001h, _YIL
	ICALL?L	L00001
	CMPNE?BCL	_YIL, 0FFh, L00073
	MOVE?CB	063h, _YIL
	LABEL?L	L00073	
	ICALL?L	L00001
	LABEL?L	L00071	
	ICALL?L	L00001
	GOSUB?L	_GECIKME
	ICALL?L	L00001
	GOTO?L	_YILAL

	LABEL?L	_SENSOROKU	
	ICALL?L	L00001
	OWPIN?T	_Comm_Pin
	OWMODE?C	001h
	OWOUT?C	0CCh
	OWOUT?C	044h
	OWEND?	

	LABEL?L	_Bekle	
	ICALL?L	L00001
	OWPIN?T	_Comm_Pin
	OWMODE?C	004h
	OWIN?T	_Busy
	OWEND?	
	ICALL?L	L00001
	CMPEQ?TCL	_Busy, 000h, _Bekle
	ICALL?L	L00001
	OWPIN?T	_Comm_Pin
	OWMODE?C	001h
	OWOUT?C	0CCh
	OWOUT?C	0BEh
	OWEND?	
	ICALL?L	L00001
	OWPIN?T	_Comm_Pin
	OWMODE?C	002h
	OWIN?B	_HAM_LOWBYTE
	OWIN?B	_HAM_HIGHBYTE
	OWEND?	
	ICALL?L	L00001
	GOSUB?L	_Hesapla
	ICALL?L	L00001
	RETURN?	

	LABEL?L	_Hesapla	
	ICALL?L	L00001
	MOVE?CB	02Bh, _SIGN
	ICALL?L	L00001
	CMPNE?TCL	_SIGN_BITI, _NEGAT_ISI, L00075
	ICALL?L	L00001
	MOVE?CB	02Dh, _SIGN
	ICALL?L	L00001
	SUB?CWW	0FFFFh, _HAM, T1
	ADD?WCW	T1, 001h, T1
	MUL?WCB	T1, 00271h, _TEMP
	ICALL?L	L00001
	DIV32?CW	00Ah, _ISI
	ICALL?L	L00001
	GOTO?L	_GEC
	ICALL?L	L00001
	LABEL?L	L00075	
	ICALL?L	L00001
	ADD?WCW	_HAM, 001h, T1
	MUL?CWB	00271h, T1, _TEMP
	ICALL?L	L00001
	DIV32?CW	00Ah, _ISI

	LABEL?L	_GEC	
	ICALL?L	L00001
	MOD?WCW	_ISI, 003E8h, T1
	DIV?WCW	T1, 064h, _Float
	ICALL?L	L00001
	DIV?WCW	_ISI, 003E8h, _ISI
	ICALL?L	L00001
	RETURN?	

	LABEL?L	_ZAMAN_OKU	
	ICALL?L	L00001
	HIGH?T	_RTC_RST
	ICALL?L	L00001
	SHIFTDATA?T	_RTC_DTA
	SHIFTCLOCK?T	_RTC_CLK
	SHIFTMODE?C	000h
	SHIFTOUT?CC	0BFh, 008h
	ICALL?L	L00001
	SHIFTDATA?T	_RTC_DTA
	SHIFTCLOCK?T	_RTC_CLK
	SHIFTMODE?C	001h
	SHIFTIN?BC	_SN, 008h
	SHIFTIN?BC	_DAK, 008h
	SHIFTIN?BC	_SAAT, 008h
	SHIFTIN?BC	_GUN, 008h
	SHIFTIN?BC	_AY, 008h
	SHIFTIN?BC	_MEM, 008h
	SHIFTIN?BC	_YIL, 008h
	SHIFTIN?BC	_MEM, 008h
	ICALL?L	L00001
	MOVE?BB	_SN, _MEM
	ICALL?L	L00001
	GOSUB?L	_CEVIR
	ICALL?L	L00001
	MOVE?BB	_SAYI, _SN
	ICALL?L	L00001
	MOVE?BB	_DAK, _MEM
	ICALL?L	L00001
	GOSUB?L	_CEVIR
	ICALL?L	L00001
	MOVE?BB	_SAYI, _DAK
	ICALL?L	L00001
	MOVE?BB	_SAAT, _MEM
	ICALL?L	L00001
	GOSUB?L	_CEVIR
	ICALL?L	L00001
	MOVE?BB	_SAYI, _SAAT
	ICALL?L	L00001
	MOVE?BB	_GUN, _MEM
	ICALL?L	L00001
	GOSUB?L	_CEVIR
	ICALL?L	L00001
	MOVE?BB	_SAYI, _GUN
	ICALL?L	L00001
	MOVE?BB	_AY, _MEM
	ICALL?L	L00001
	GOSUB?L	_CEVIR
	ICALL?L	L00001
	MOVE?BB	_SAYI, _AY
	ICALL?L	L00001
	MOVE?BB	_YIL, _MEM
	ICALL?L	L00001
	GOSUB?L	_CEVIR
	ICALL?L	L00001
	MOVE?BB	_SAYI, _YIL
	ICALL?L	L00001
	LOW?T	_RTC_RST
	ICALL?L	L00001
	RETURN?	

	LABEL?L	_ZAMAN_YAZ	
	ICALL?L	L00001
	HIGH?T	_RTC_RST
	ICALL?L	L00001
	SHIFTDATA?T	_RTC_DTA
	SHIFTCLOCK?T	_RTC_CLK
	SHIFTMODE?C	000h
	SHIFTOUT?CC	08Eh, 008h
	SHIFTOUT?CC	000h, 008h
	ICALL?L	L00001
	LOW?T	_RTC_RST
	ICALL?L	L00001
	PAUSEUS?C	00Ah
	ICALL?L	L00001
	HIGH?T	_RTC_RST
	ICALL?L	L00001
	SHIFTDATA?T	_RTC_DTA
	SHIFTCLOCK?T	_RTC_CLK
	SHIFTMODE?C	000h
	SHIFTOUT?CC	0BEh, 008h
	SHIFTOUT?BC	_SN, 008h
	SHIFTOUT?BC	_DAK, 008h
	SHIFTOUT?BC	_SAAT, 008h
	SHIFTOUT?BC	_GUN, 008h
	SHIFTOUT?BC	_AY, 008h
	SHIFTOUT?CC	000h, 008h
	SHIFTOUT?BC	_YIL, 008h
	SHIFTOUT?CC	080h, 008h
	ICALL?L	L00001
	LOW?T	_RTC_RST
	ICALL?L	L00001
	PAUSEUS?C	00Ah
	ICALL?L	L00001
	RETURN?	

	LABEL?L	_CEVIR	
	ICALL?L	L00001
	AND?BCB	_MEM, 070h, _ONLAR
	ICALL?L	L00001
	SHIFTR?BCB	_ONLAR, 004h, _ONLAR
	ICALL?L	L00001
	AND?BCB	_MEM, 00Fh, _BIRLER
	ICALL?L	L00001
	MUL?BCW	_ONLAR, 00Ah, T1
	ADD?WBB	T1, _BIRLER, _SAYI
	ICALL?L	L00001
	RETURN?	

	LABEL?L	_TERSCEVIR	
	ICALL?L	L00001
	DIG?BCB	_MEM, 001h, _ONLAR
	ICALL?L	L00001
	SHIFTL?BCB	_ONLAR, 004h, _ONLAR
	ICALL?L	L00001
	DIG?BCB	_MEM, 000h, _BIRLER
	ICALL?L	L00001
	ADD?BBB	_ONLAR, _BIRLER, _SAYI
	ICALL?L	L00001
	RETURN?	
	DISABLE?	

	LABEL?L	_KESME	
	CMPEQ?TCL	_POZ, 001h, _CIK
	ADD?BCB	_SAYAC, 001h, _SAYAC
	CMPNE?BCL	_SAYAC, 03Ah, L00077
	MOVE?CB	000h, _SAYAC
	ADD?BCB	_Y, 001h, _Y
	GOSUB?L	_ZAMAN_OKU
	CMPGE?BCL	_Y, 005h, L00079
	HIGH?T	_PORTA_3
	LABEL?L	L00079	
	LABEL?L	L00077	

	LABEL?L	_CIK	
	MOVE?CT	000h, _INTCON_2
	RESUME?	
	ENABLE?	
	ICALL?L	L00001
	END?	

	END
