
; PicBasic Pro Compiler 2.46, (c) 1998, 2005 microEngineering Labs, Inc. All Rights Reserved.  
PM_USED			EQU	1

	INCLUDE	"16F628A.INC"


; Define statements.
#define		LCD_DREG		 PORTB      
#define		LCD_DBIT		 4          
#define		LCD_RSREG		 PORTB     
#define		LCD_RSBIT		 2         
#define		LCD_EREG		 PORTB      
#define		LCD_EBIT		 3          
#define		LCD_LINES		 2         

RAM_START       		EQU	00020h
RAM_END         		EQU	0014Fh
RAM_BANKS       		EQU	00003h
BANK0_START     		EQU	00020h
BANK0_END       		EQU	0007Fh
BANK1_START     		EQU	000A0h
BANK1_END       		EQU	000EFh
BANK2_START     		EQU	00120h
BANK2_END       		EQU	0014Fh
EEPROM_START    		EQU	02100h
EEPROM_END      		EQU	0217Fh

R0              		EQU	RAM_START + 000h
R1              		EQU	RAM_START + 002h
R2              		EQU	RAM_START + 004h
R3              		EQU	RAM_START + 006h
R4              		EQU	RAM_START + 008h
R5              		EQU	RAM_START + 00Ah
R6              		EQU	RAM_START + 00Ch
R7              		EQU	RAM_START + 00Eh
R8              		EQU	RAM_START + 010h
T1              		EQU	RAM_START + 012h
T2              		EQU	RAM_START + 014h
T3              		EQU	RAM_START + 016h
T4              		EQU	RAM_START + 018h
FLAGS           		EQU	RAM_START + 01Ah
GOP             		EQU	RAM_START + 01Bh
RM1             		EQU	RAM_START + 01Ch
RM2             		EQU	RAM_START + 01Dh
RR1             		EQU	RAM_START + 01Eh
RR2             		EQU	RAM_START + 01Fh
_B0              		EQU	RAM_START + 020h
_B1              		EQU	RAM_START + 021h
_B2              		EQU	RAM_START + 022h
_B3              		EQU	RAM_START + 023h
_B4              		EQU	RAM_START + 024h
_B5              		EQU	RAM_START + 025h
PB01            		EQU	RAM_START + 026h
_SANIYE          		EQU	RAM_START + 027h
_SAYAC           		EQU	RAM_START + 028h
_PORTL           		EQU	 PORTB
_PORTH           		EQU	 PORTA
_TRISL           		EQU	 TRISB
_TRISH           		EQU	 TRISA
#define _KUMANDA         	 PB01, 000h
#define _UCGENEGEC1      	 PB01, 001h
#define _PORTA_7         	 PORTA, 007h
#define _PORTB_0         	 PORTB, 000h
#define _PORTA_3         	 PORTA, 003h
#define _PORTB_1         	 PORTB, 001h
#define _PORTA_1         	 PORTA, 001h
#define _PORTA_0         	 PORTA, 000h
#define _INTCON_2        	 INTCON, 002h
	INCLUDE	"YILDIZ~1.MAC"
	INCLUDE	"PBPPIC14.LIB"

	ONINT?LL	_KESME, L00001
	ICALL?L	L00001
	MOVE?CB	085h, OPTION_REG
	ICALL?L	L00001
	MOVE?CB	0A0h, INTCON
	ICALL?L	L00001
	MOVE?CB	000h, TMR0
	ICALL?L	L00001
	MOVE?CB	007h, CMCON
	ICALL?L	L00001
	CLEAR?	
	ICALL?L	L00001
	LCDOUT?C	0FEh
	LCDOUT?C	001h
	ICALL?L	L00001
	PAUSE?C	001F4h

	LABEL?L	_LOOP	
	ICALL?L	L00001
	LCDOUT?C	0FEh
	LCDOUT?C	002h
	ICALL?L	L00001
	MOVE?CB	000h, _B2
	LABEL?L	L00003	
	CMPGT?BCL	_B2, 00Fh, L00004
	ICALL?L	L00001
	LOOKUP?BCLB	_B0, 030h, L00002, _B1
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	04Fh
	LURET?C	054h
	LURET?C	055h
	LURET?C	047h
	LURET?C	045h
	LURET?C	04Eh
	LURET?C	020h
	LURET?C	04Fh
	LURET?C	054h
	LURET?C	04Fh
	LURET?C	04Dh
	LURET?C	041h
	LURET?C	053h
	LURET?C	059h
	LURET?C	04Fh
	LURET?C	04Eh
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	020h
	LURET?C	023h

	LABEL?L	L00002	
	ICALL?L	L00001
	CMPNE?BCL	_B1, 023h, L00005
	GOTO?L	_reset
	LABEL?L	L00005	
	ICALL?L	L00001
	LCDOUT?B	_B1
	ICALL?L	L00001
	ADD?BCB	_B0, 001h, _B0
	ICALL?L	L00001
	NEXT?BCL	_B2, 001h, L00003
	LABEL?L	L00004	
	ICALL?L	L00001
	PAUSE?C	07Dh
	ICALL?L	L00001
	SUB?BCB	_B0, 00Fh, _B0
	ICALL?L	L00001
	GOTO?L	_LOOP

	LABEL?L	_reset	
	ICALL?L	L00001
	LCDOUT?C	0FEh
	LCDOUT?C	001h

	LABEL?L	_onprogram	
	ICALL?L	L00001
	LCDOUT?C	0FEh
	LCDOUT?C	080h
	ICALL?L	L00001
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	059h
	LCDOUT?C	049h
	LCDOUT?C	04Ch
	LCDOUT?C	044h
	LCDOUT?C	049h
	LCDOUT?C	05Ah
	LCDOUT?C	020h
	LCDOUT?C	055h
	LCDOUT?C	043h
	LCDOUT?C	047h
	LCDOUT?C	045h
	LCDOUT?C	04Eh
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	ICALL?L	L00001
	LCDOUT?C	0FEh
	LCDOUT?C	0C0h
	ICALL?L	L00001
	LCDOUT?C	020h
	LCDOUT?C	04Bh
	LCDOUT?C	055h
	LCDOUT?C	04Dh
	LCDOUT?C	041h
	LCDOUT?C	04Eh
	LCDOUT?C	044h
	LCDOUT?C	041h
	LCDOUT?C	020h
	LCDOUT?C	052h
	LCDOUT?C	04Fh
	LCDOUT?C	04Ch
	LCDOUT?C	045h
	LCDOUT?C	053h
	LCDOUT?C	049h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	ICALL?L	L00001
	PAUSE?C	001F4h
	ICALL?L	L00001
	LCDOUT?C	0FEh
	LCDOUT?C	001h

	LABEL?L	_ANAPROGRAM	
	ICALL?L	L00001
	CMPNE?TCL	_PORTA_7, 001h, L00007
	ICALL?L	L00001
	GOTO?L	_ARIZA
	ICALL?L	L00001
	GOTO?L	L00008
	LABEL?L	L00007	
	ICALL?L	L00001
	GOTO?L	_NORMAL
	ICALL?L	L00001
	LABEL?L	L00008	

	LABEL?L	_ARIZA	
	ICALL?L	L00001
	LCDOUT?C	0FEh
	LCDOUT?C	080h
	LCDOUT?C	04Dh
	LCDOUT?C	04Fh
	LCDOUT?C	054h
	LCDOUT?C	04Fh
	LCDOUT?C	052h
	LCDOUT?C	055h
	LCDOUT?C	04Eh
	LCDOUT?C	020h
	LCDOUT?C	054h
	LCDOUT?C	045h
	LCDOUT?C	052h
	LCDOUT?C	04Dh
	LCDOUT?C	049h
	LCDOUT?C	04Bh
	ICALL?L	L00001
	LCDOUT?C	0FEh
	LCDOUT?C	0C0h
	LCDOUT?C	052h
	LCDOUT?C	04Fh
	LCDOUT?C	04Ch
	LCDOUT?C	045h
	LCDOUT?C	053h
	LCDOUT?C	049h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	041h
	LCDOUT?C	054h
	LCDOUT?C	054h
	LCDOUT?C	049h
	LCDOUT?C	020h
	LCDOUT?C	020h
	ICALL?L	L00001
	LOW?T	_PORTB_0
	ICALL?L	L00001
	LOW?T	_PORTA_3
	ICALL?L	L00001
	LOW?T	_PORTB_1
	ICALL?L	L00001
	MOVE?CT	000h, _KUMANDA
	ICALL?L	L00001
	MOVE?CB	000h, _SAYAC
	ICALL?L	L00001
	MOVE?CB	000h, _SANIYE
	ICALL?L	L00001
	GOTO?L	_ANAPROGRAM

	LABEL?L	_NORMAL	
	ICALL?L	L00001
	LCDOUT?C	0FEh
	LCDOUT?C	080h
	LCDOUT?C	04Dh
	LCDOUT?C	04Fh
	LCDOUT?C	054h
	LCDOUT?C	04Fh
	LCDOUT?C	052h
	LCDOUT?C	03Ah
	ICALL?L	L00001
	CMPNE?TCL	_PORTA_3, 000h, L00009
	ICALL?L	L00001
	GOTO?L	_mesajstop
	ICALL?L	L00001
	GOTO?L	L00010
	LABEL?L	L00009	
	ICALL?L	L00001
	GOTO?L	_start
	ICALL?L	L00001
	LABEL?L	L00010	

	LABEL?L	_mesajstop	
	ICALL?L	L00001
	LCDOUT?C	0FEh
	LCDOUT?C	086h
	LCDOUT?C	053h
	LCDOUT?C	054h
	LCDOUT?C	04Fh
	LCDOUT?C	050h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	ICALL?L	L00001
	LCDOUT?C	0FEh
	LCDOUT?C	0C0h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	ICALL?L	L00001
	GOTO?L	_KONTROL

	LABEL?L	_start	
	ICALL?L	L00001
	LCDOUT?C	0FEh
	LCDOUT?C	086h
	LCDOUT?C	053h
	LCDOUT?C	054h
	LCDOUT?C	041h
	LCDOUT?C	052h
	LCDOUT?C	054h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	LCDOUT?C	020h
	ICALL?L	L00001
	GOTO?L	_KONTROL

	LABEL?L	_KONTROL	
	ICALL?L	L00001
	CMPEQ?TCB	_PORTA_1, 001h, T1
	CMPEQ?TCB	_PORTA_7, 001h, T2
	LOR?BBW	T1, T2, T2
	CMPF?WL	T2, L00011
	GOTO?L	_MOTORDUR
	LABEL?L	L00011	
	ICALL?L	L00001
	CMPEQ?TCB	_PORTA_1, 000h, T1
	CMPEQ?TCB	_PORTA_7, 000h, T2
	LAND?BBW	T1, T2, T2
	CMPEQ?TCB	_PORTA_0, 001h, T3
	LAND?WBW	T2, T3, T3
	CMPEQ?TCB	_KUMANDA, 001h, T4
	LOR?WBW	T3, T4, T4
	CMPF?WL	T4, L00013
	ICALL?L	L00001
	GOTO?L	_MOTORYILDIZ
	ICALL?L	L00001
	GOTO?L	L00014
	LABEL?L	L00013	
	ICALL?L	L00001
	GOTO?L	_MOTORDUR
	ICALL?L	L00001
	LABEL?L	L00014	

	LABEL?L	_MOTORYILDIZ	
	ICALL?L	L00001
	MOVE?CT	001h, _KUMANDA
	ICALL?L	L00001
	CMPNE?BCL	_SANIYE, 00Fh, L00015
	ICALL?L	L00001
	MOVE?CT	001h, _UCGENEGEC1
	ICALL?L	L00001
	LABEL?L	L00015	
	ICALL?L	L00001
	CMPNE?TCL	_UCGENEGEC1, 001h, L00017
	GOTO?L	_UCGEN
	LABEL?L	L00017	
	ICALL?L	L00001
	LOW?T	_PORTB_0
	ICALL?L	L00001
	HIGH?T	_PORTA_3
	ICALL?L	L00001
	HIGH?T	_PORTB_1
	ICALL?L	L00001
	LCDOUT?C	0FEh
	LCDOUT?C	0C0h
	LCDOUT?C	043h
	LCDOUT?C	041h
	LCDOUT?C	04Ch
	LCDOUT?C	049h
	LCDOUT?C	053h
	LCDOUT?C	04Dh
	LCDOUT?C	041h
	LCDOUT?C	020h
	LCDOUT?C	059h
	LCDOUT?C	049h
	LCDOUT?C	04Ch
	LCDOUT?C	044h
	LCDOUT?C	049h
	LCDOUT?C	05Ah
	ICALL?L	L00001
	GOTO?L	_PROGRAMDEVAM

	LABEL?L	_UCGEN	
	ICALL?L	L00001
	HIGH?T	_PORTB_0
	ICALL?L	L00001
	HIGH?T	_PORTA_3
	ICALL?L	L00001
	LOW?T	_PORTB_1
	ICALL?L	L00001
	LCDOUT?C	0FEh
	LCDOUT?C	0C0h
	LCDOUT?C	043h
	LCDOUT?C	041h
	LCDOUT?C	04Ch
	LCDOUT?C	049h
	LCDOUT?C	053h
	LCDOUT?C	04Dh
	LCDOUT?C	041h
	LCDOUT?C	020h
	LCDOUT?C	055h
	LCDOUT?C	043h
	LCDOUT?C	047h
	LCDOUT?C	045h
	LCDOUT?C	04Eh
	LCDOUT?C	020h
	ICALL?L	L00001
	GOTO?L	_ANAPROGRAM

	LABEL?L	_MOTORDUR	
	ICALL?L	L00001
	LOW?T	_PORTB_0
	ICALL?L	L00001
	LOW?T	_PORTA_3
	ICALL?L	L00001
	LOW?T	_PORTB_1
	ICALL?L	L00001
	MOVE?CT	000h, _KUMANDA
	ICALL?L	L00001
	MOVE?CB	000h, _SAYAC
	ICALL?L	L00001
	MOVE?CB	000h, _SANIYE

	LABEL?L	_PROGRAMDEVAM	
	ICALL?L	L00001
	GOTO?L	_ANAPROGRAM
	DISABLE?	

	LABEL?L	_KESME	
	CMPNE?TCL	_KUMANDA, 001h, L00019
	GOTO?L	_SAY
	GOTO?L	L00020
	LABEL?L	L00019	
	GOTO?L	_DEVAM
	LABEL?L	L00020	

	LABEL?L	_SAY	
	ADD?BCB	_SAYAC, 001h, _SAYAC
	CMPNE?BCL	_SAYAC, 03Dh, L00021
	MOVE?CB	000h, _SAYAC
	ADD?BCB	_SANIYE, 001h, _SANIYE
	LABEL?L	L00021	

	LABEL?L	_DEVAM	
	MOVE?CT	000h, _INTCON_2
	RESUME?	
	ENABLE?	

	END
